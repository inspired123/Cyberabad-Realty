define("services/loggerService",[],function(){Box.Application.addService("Logger",function(){function e(e){!r||!n&&a&&a.log||r.apply(window,e)}function t(e){return l>0?l>e:u.length+l<=e}for(var r,n,o=Array.prototype.slice,a=window.console,i={},l=9,u=["error","warn","info","debug","log"],s="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),c=s.length,d=[];--c>=0;)!function(e){i[e]=function(){0!==l&&a&&a[e]&&a[e].apply(a,arguments)}}(s[c]);for(c=u.length;--c>=0;)!function(r,n){i[n]=function(){var i=o.call(arguments),l=[n].concat(i);d.push(l),e(l),a&&t(r)&&(a[n]?a[n](i):a.log(i))}}(c,u[c]);return i.setLevel=function(e){l="number"==typeof e?e:9},i.setCallback=function(){var t=o.call(arguments),a=d.length,i=a;for(r=t.shift()||null,n="boolean"==typeof t[0]?t.shift():!1,i-="number"==typeof t[0]?t.shift():a;a>i;)e(d[i++])},i})}),function(){var e,t=function(e,t){for(var r=(e>0?e:-e)+"",n="",o=t-r.length;o>0;o--)n+="0";return n+=r,e>=0?n:"-"+n},r=function(e){if(!e||isNaN(e))return"";var r=e%1e3;e=Math.floor(e/1e3);for(var n=0===e?r:t(r,3);e>0;){r=e%100,e=Math.floor(e/100);var o=0===e?r:t(r,2);n=o+","+n}return n},n=function(e,t){return t.split(".").reduce(function(e,t){return null!=e?e[t]:void 0},e)},o=function(){return location.pathname},a=function(e){if(0!==e&&!e||isNaN(e))return"";var r=+(e%1e3).toFixed(2);e=Math.floor(e/1e3);for(var n=0===e?r:t(r,3);e>0;){r=e%100,e=Math.floor(e/100);var o=0===e?r:t(r,2);n=o+","+n}return n},i=function(e){if(e){var t=(new Date).getTime();return t>e?parseInt(y(t,"YY"))-parseInt(y(e,"YY")):0}},l=function z(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];for(var r in e)"object"==typeof e[r]?(t[r]=e[r].constructor===Array?[]:{},z(e[r],t[r])):(t[r]=e[r],t[r]=e[r]);return t},u=function(e,t){(!t||0>t)&&(t=1);var r=Math.pow(10,t);return e/1e7>=1?Math.round(e/1e7*r)/r+" Cr":e/1e5>=1?Math.round(e/1e5*r)/r+" L":e/1e3>=1?Math.round(e/1e3*r)/r+" K":e},s=function(e){var t=e.header("user-agent");return/mobile/i.test(t)?!0:!1},c=function(e){return(e+"").replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})},d={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},f={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday",7:"Sunday"},g=function(e){return e.getDate()},p=function(e,t){var r=e.getDay();return t?f[r]:r},m=function(e,t){var r=e.getMonth();return t?d[r]:r},v=function(e,t){var r=e.getFullYear();return t?r.toString().substr(2,2):r},h=function(e){var t=e.getMonth();return d[t].substring(0,3)},y=function(e,t){var r=new Date(e),n={YY:function(e){return v(e)},yy:function(e){return v(e,!0)},MM:function(e){return m(e,!0)},mm:function(e){return m(e)+1},DD:function(e){return p(e,!0)},dd:function(e){return g(e,!0)},SM:function(e){return h(e)}};for(var o in n)if(n.hasOwnProperty(o)){var a=new RegExp(o+"(?!"+o.charAt(0)+")");t=t.replace(a,n[o](r))}return t},S=function(e,t,r){if(!t)return e;t.days=t.days?t.days:0,t.months=t.months?t.months:0,t.years=t.years?t.years:0;var n=e+24*(t.days+30*t.months+365*t.years)*3600*1e3;return r?new Date(n):n},b=function(e){if(e){e=e.toString().split(",").join("");var t=e.substring(e.length-3),r=e.substring(0,e.length-3);return""!==r&&(t=","+t),r.replace(/\B(?=(\d{2})+(?!\d))/g,",")+t}return 0===e?e:void 0},w=function(e,t,r,n){var o,a={};return e.length>t?(a.description=e.substring(0,t),n&&(o=a.description.lastIndexOf(" "),-1!=o&&(a.description=a.description.substr(0,o))),a.description+=r||"...",a.contentTrimmed=!0):(a.description=e,a.contentTrimmed=!1),a},D=function(e,t,r){if("page"===t&&1===r){var n=e.split("?");if(n.length>=2){for(var o=encodeURIComponent(t)+"=",a=n[1].split(/[&;]/g),i=a.length;i-- >0;)-1!==a[i].lastIndexOf(o,0)&&a.splice(i,1);return e=n[0]+"?"+a.join("&")}return e}var l=new RegExp("([?&])"+t+"=.*?(&|$)","i"),u=-1!==e.indexOf("?")?"&":"?";return e.match(l)?e.replace(l,"$1"+t+"="+r+"$2"):e+u+t+"="+r},P=function(e,t){for(var r=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(r.bind(e)(t))return e;e=e.parentNode}return!1},I=function(e,t){var r=P(e,t);return t.match(/^\[/)&&(t=t.substring(1,t.length-1)),r.getAttribute(t)},x=function(e,t,r){return e=O(e),e[t]=r,T(e,"&")},A=function(e){var t,r,n=decodeURIComponent(window.location.search.substring(1)),o=n.split("&");for(r=0;r<o.length;r++)if(t=o[r].split("="),t[0]===e)return void 0===t[1]?!0:t[1]},O=function(e){var t,r,n,o,a={};for(t=e.length>0?e.split("&"):[],n=0,o=t.length;o>n;n++)r=t[n].split("="),a[r[0]]=r[1];return a},C=function(e,t){return t=t||2,1e5>e?r(e):u(e,t)},E=function(e,t,r,n){return n=n||"-",e||t?e?t&&e!==t?e+" "+n+" "+t+" "+r:e+" "+r:t+" "+r:void 0},T=function(e,t){var r="";for(var n in e)r+=n+"="+e[n]+"&";return r},M=function(e){Date.prototype.yyyymmdd=function(){var e=this.getFullYear().toString(),t=(this.getMonth()+1).toString(),r=this.getDate().toString();return(r[1]?r:r[0])+"-"+(t[1]?t:t[0])+"-"+e};var t=new Date(e);return t.yyyymmdd()},N=function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];return new Promise(function(r,n){return t?r(e):n(e)})},R=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},L=function(e){var t=e||window.location.search,r=t.indexOf("?");if(-1===r)return{};t=t.substring(r+1),t=t.split("&");for(var n={},o=0;o<t.length;o++){var a=t[o].split("=");n[a[0]]=a[1]}return n},k=function(){return new Promise(function(e){return"complete"===document.readyState.toLowerCase()?e():void $(window).load(e)})},B=function(e){return 10*(e+2)*e},U=function(e){var t=[];return $.each(e,function(e,r){t.push({key:r.countryId,val:r.label+" ("+r.countryCode+")",code:r.countryCode})}),t},j=function(e,t){return e.filter(function(e){return-1!=t.indexOf(e)})},q=function(e){var t="not-rated";if(isNaN(e)||0>=e)return"not-rated";var r=[{to:2,"class":"low"},{to:2.5,"class":"low"},{to:3.5,"class":"avg"},{to:4.5,"class":"good"},{to:5,"class":"excellent"}];if(e&&!isNaN(e)){e=parseFloat(e),e=e.toFixed(1);for(var n in r)if(e<=r[n].to){t=r[n]["class"];break}}return t},_=function(e){var t=e%10,r=e%100;return 1==t&&11!=r?"st":2==t&&12!=r?"nd":3==t&&13!=r?"rd":"th"},F={getReadablePrice:r,residentialPropertyPathName:o,getReadablePriceInWord:u,isMobileRequest:s,ucword:c,formatPriceWithComma:b,stripContent:w,changeQueryParam:D,formatDate:y,dateAhead:S,getClosestListElement:P,getClosestListId:I,addFilterToQueryString:x,parseQueryString:O,joinQueryString:T,timeFromDate:i,getRange:E,getDisplayPrice:C,getUrlParameter:A,deepCopy:l,getReadableNumber:a,getValue:n,handleDate:M,uuidGenerator:R,emptyPromise:N,getAllQueryStringParam:L,bindOnLoadPromise:k,getPromisedEnquiries:B,parseCountries:U,intersection:j,getRatingBadgeClass:q,ordinalSuffix:_};"undefined"!=typeof module&&module.exports?module.exports=F:"function"==typeof define&&define.amd?define("common/utilFunctions",[],function(){return F}):(e=function(){return this||(0,eval)("this")}(),e.utils=F)}(),function(){function e(e,t){if(!t)return e;var r=void 0,n=void 0;if("string"==typeof t)r=t;else{r="";for(var o in t)r=r+"&"+o+"="+t[o];r=r.slice(1)}return n=e.url.indexOf("?")>-1?"&":"?",e.url+=""+n+r,e}var t,r;r={sellerSuspensionMap:{NOT_SUSPENDED:"Normal",TO_BE_SUSPENDED:"ToBeSuspended",SUSPENDED:"Suspended",RE_ACTIVE:"ReActive"},SALE_TYPE_MAP:{buy:1,rent:2,1:"buy",2:"rent"},sellerAccountLockedMap:{ACCOUNT_LOCKED:"accountLocked"},sellerBenefitMap:{FULLY_PENALIZED:1,PARTIALLY_PENALIZED:5,EXPERT_DEAL_MAKER:6,DEAL_MAKER:7,PREPAID_SELLER:8,LOCALITY_EXPERT:"6 & 2",CITY_EXPERT:"6 & 1",FEATURE_PROJECT:"featured_3",ACCOUNT_LOCKED:9},pageData:{},apiHandlers:{getAmenities:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.cityId;return{controller:"amenitiesParser",method:["GET"],url:t?"/apis/getAmenities/"+t:"/apis/getAmenities",route:"/apis/getAmenities/:cityId?"}},getImages:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.objectType,r=e.objectId;return{controller:"imagesParser",method:["GET"],url:"/apis/imageService/"+t+"/"+r,route:"/apis/imageService/:objectType/:objectId"}},getNearByLocality:function(){return{controller:"localityApi",method:["GET"],url:"/apis/locality/near-by",route:"/apis/locality/near-by"}},getLocalityPriceTrend:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.localityId;return{controller:"priceTrend",method:["GET"],url:"/apis/locality/price-trend/"+t,route:"/apis/locality/price-trend/:localityId"}},getLocalityTopSellers:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.localityId;return{controller:"sellerParser",method:["GET"],url:"/apis/locality/top-seller/"+t,route:"/apis/locality/top-seller/:localityId"}},getSimilarProject:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.projectId;return{controller:"similarProject",method:["GET"],url:"/apis/similar/project/"+t,route:"/apis/similar/project/:projectId"}},getSimilarConfigSeller:function(){return{controller:"similarConfigSeller",method:["GET"],url:"/apis/similar/seller",route:"/apis/similar/seller"}},getCityTopLocality:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.cityId;return{controller:"cityApi",method:["GET"],url:"/apis/city/top-locality/"+t,route:"/apis/city/top-locality/:cityId"}},getCityTopSellers:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.cityId;return{controller:"sellerParser",method:["GET"],url:"/apis/city/top-seller/"+t,route:"/apis/city/top-seller/:cityId"}},getCityPriceTrend:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.cityId;return{controller:"priceTrend",method:["GET"],url:"/apis/city/price-trend/"+t,route:"/apis/city/price-trend/:cityId"}},getCityPriceRange:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.cityId;return{controller:"cityPriceRange",method:["GET"],url:"/apis/city/price-range/"+t,route:"/apis/city/price-range/:cityId"}},getProjectPriceTrend:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.projectId;return{controller:"priceTrend",method:["GET"],url:"/apis/project/price-trend/"+t,route:"/apis/project/price-trend/:projectId"}},postEnquiry:function(){return{controller:"enquiries",method:["POST","PUT"],url:"/apis/enquiries",route:"/apis/enquiries"}},buyerDashboard:function(){return{controller:"buyerDashboardParser",method:["GET","POST"],url:"apis/login/buyerDashboard",route:"/apis/login/buyerDashboard"}},smsService:function(){return{controller:"smsService",method:["POST"],url:"/apis/smsService",route:"/apis/smsService"}}},getURL:e,clientApis:{getCityByLocation:function(){return{url:"/app/v1/mylocation?sourceDomain=Makaan"}},getCityTopLocalities:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.cityId;return{url:'/data/v3/entity/locality?selector={"fields":["localityId","label","buyUrl","rentUrl","overviewUrl","latitude","longitude","suburb","city"],"filters":{"and":[{"equal":{"cityId":"'+t+'"}}]},"paging":{"start":0,"rows":5},"sort":[{"field":"localityLivabilityScore","sortOrder":"DESC"}]}&sourceDomain=Makaan'}},nearbyLocalities:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.lat,r=e.lon;return{url:'/data/v3/entity/locality?selector={"fields":["localityId","label","buyUrl","rentUrl","overviewUrl","latitude","longitude","suburb","city"],"filters":{"and":[{"geoDistance":{"geo":{"distance":10,"lat":"'+t+'","lon":"'+r+'"}}}]},"paging":{"start":0,"rows":5},"sort":[{"field":"geoDistance","sortOrder":"ASC"}]}&sourceDomain=Makaan'}},getPopularSuggestions:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.entityId,r=e.rows;return{url:"/columbus/app/v1/popular/suggestions?entityId="+t+"&rows="+r+"&sourceDomain=Makaan"}},searchTypeahead:function(e){return{url:"/columbus/app/v5/typeahead?query="+e.query+"&typeAheadType="+(e.typeAheadType?e.typeAheadType:"")+"&city="+(e.city?e.city:"")+"&rows="+(e.rows?e.rows:"")+"&enhance="+(e.enhance?e.enhance:"")+"&category="+e.category+"&view="+e.view+"&sourceDomain=Makaan"}},getInstantCall:function(){return{url:"/app/v1/callNow?sourceDomain=Makaan"}},eventRouterTracking:function(){return{url:"api/v0/publish_event/makaanseller"}}},TENANT_PREFERENCES:{QUESTION_ID_PREFIX:"tenant-preference",QUESTIONS_CACHE_KEY:"tenant-preferences-questions",EXISTING_ANSWERS_CACHE_KEY:"tenant-preferences-answers"},PROPERTY_TYPES:{APARTMENT:"apartment",BUILDER_FLOOR:"builderfloor",VILLA:"villa",INDEPENDENT_HOUSE:"independenthouse",PENTHOUSE:"penthouse",STUDIO:"studio",PLOT:"plot"},MAP_SOURCE:{GOOGLE:"Google",OPEN_STREET:"Open Street"}},Object.keys(r.apiHandlers).map(function(t){var n=r.apiHandlers[t];r.apiHandlers[t]=function(){return function(t){return t&&t.query?e(n(t),t.query):n(t)}}()}),"undefined"!=typeof module&&module.exports?module.exports=r:"function"==typeof define&&define.amd?define("common/sharedConfig",[],function(){return r}):(t=function(){return this||(0,eval)("this")}(),t.config=r)}(),define("services/localStorageService",["services/loggerService"],function(){var e="localStorageService";return Box.Application.addService(e,function(){function e(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(r){logger.error("in catch of setLocalStorageKey: ",JSON.stringify(r))}}function t(e){var t=window.localStorage.getItem(e);return t=JSON.parse(t)}function r(e){return delete window.localStorage[e]}function n(e,t){try{window.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){logger.error("in catch of setLocalStorageKey: ",JSON.stringify(r))}}function o(e){var t=void 0;try{t=window.sessionStorage.getItem(e),t=JSON.parse(t)}catch(r){t={}}return t}return{setItem:e,getItem:t,deleteItem:r,getSessionItem:o,setSessionItem:n}}),Box.Application.getService(e)}),define("services/utils",["common/utilFunctions","common/sharedConfig","services/localStorageService"],function(e,t,r){var n=e;return Box.Application.addService("Utils",function(){var e=function(e){var t=e.type,n=e.key,o=e.maxSize;return this.type=t,this.key=n||t,this.maxSize=o||100,this.clearQueue=function(){return r.deleteItem(this.key),this},this.items=function(){return r.getItem(this.key)||[]},this};return e.prototype.addToQueue=function(e){var t=this.items();return t.length<this.maxSize&&(t.push(e),r.setItem(this.key,t)),this},e.prototype.getQueuedItems=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=this.items();return e.clearQueue&&this.clearQueue(),t},n.MessageQueue=e,n.setcookie=function(e,t,r,n){var o=e+"="+t;r&&(o+="; domain="+r),n&&(o+="; expires="+n),o+="; path=/;",document.cookie=o},n.getCookie=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null},n.deleteCookie=function(e){document.cookie=e+"=;path=/;expires=Thu, 01-Jan-70 00:00:01 GMT;"},n.reloadPage=function(){var e=arguments.length<=0||void 0===arguments[0]?100:arguments[0];setTimeout(function(){var e=window.location;window.location=e.protocol+"//"+e.host+e.pathname+e.search},e)},n.isMobileRequest=function(){var e=window.navigator.userAgent;return/mobile/i.test(e)?!0:!1},n.showOnSlowSpeed=function(e,t,r){window.clientCurrentSpeed<r&&$(e).removeClass(t)},n.getSubdomain=function(){var e=window.location.host.split(".");return 3===e.length?e[0]:!1},n.getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i"),n=r.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},n.createSelector=function(e){var t=e.filters?"&filters="+e.filters.type+"=="+e.filters.id:"",r=e.start?"&start="+e.start:"&start=0",n=e.sortBy?"&sort="+e.sortBy:"",o=e.rows?"&rows="+e.rows:"&rows=6";return t+r+o+n},n.getPageData=function(e){var t=window.pageData||{};return e?t[e]:t},n.setPageData=function(e,t){var r=window.pageData||{};return e&&t&&(r[e]=t),window.pageData=r,r},n.listingsPropertyFullPath=function(){var e=n.getPageData("isMap")?"/maps":"",t=n.residentialPropertyPathName();return""+e+t},n.gotoEl=function(e,t,r,n){n="function"!=typeof n?function(){}:n;var o=$(e),a=o.offset().top;a-=t&&a>t?r:0,$("body,html").animate({scrollTop:a},"slow",n)},n.scrollToTop=function(e,t){$(e).on(t,function(){n.gotoEl("body",0,0)})},n.getGeoLocation=function(e){return new Promise(function(t,r){navigator.geolocation.getCurrentPosition(function(e){t(e)},function(e){r(e)},e)})},n.generateSerpFilter=function(e){var r={beds:["beds"],propertyType:["propertyType"],area:["minSize","maxSize"],budget:["minPrice","maxPrice"],localityOrSuburbId:["localityOrSuburbId"],listingCategory:["listingCategory"]},n={},o=void 0,a=void 0,i=void 0,l=t.getURL;for(o in r){n[o]=[];var u=r[o];for(a=0;a<u.length;a++)e[u[a]]&&n[o].push(e[u[a]]);var s=n[o].length;s?(2===s&&n[o][0]===n[o][1]&&n[o].splice(1,1),n[o]=n[o].join(",")):delete n[o]}return i={url:""},Object.keys(n).length?l(i,n).url:null},n.checkInViewPort=function(e){var t=arguments.length<=1||void 0===arguments[1]?65:arguments[1];if(!e)return!1;var r=$(window).scrollTop(),n=$(e).offset().top,o=$(window).height();return r>=n-o-t},n.isScrolledTo=function(e){if(e&&e.length>0){var t=$(window).scrollTop(),r=(t+$(window).height(),$(e).offset().top);r+$(e).height();return t>=r||r>=t}return!1},n.flattenObjectToArray=function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return $.each(e,function(e,r){$.isArray(r)?t.push(r):"object"==typeof r&&n.flattenObjectToArray(r,t)}),Array.prototype.concat.apply([],t)},n.isArray=function(e){return"undefined"!=typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},n.arrayDiff=function(e,t){var r=[];t=t||[];for(var n=0;n<t.length;n++)for(var o=t[n],a=e.indexOf(o);a>-1;)r.push(a),a=e.indexOf(o,a+1);r.sort();for(var n=0;n<r.length;n++){var a=r[n]-n;e.splice(a,1)}return e},n.arrayDifference=function(e,t){var r=e.filter(function(e){return t.indexOf(e)<0});return r},n.uniqueItems=function(e){return e.filter(function(t,r){return e.indexOf(t)===r})},n.getIntegerArray=function(e){return e=e.map(function(e){return parseInt(e,10)})},n.removeElement=function(e,t){var r=e.filter(function(e){return e!==t});return r},n.replaceKeyInSelector=function(e,t,r){return-1!=e.indexOf(t)?e=e.replace(t+"="+n.getParameterByName(t),t+"="+r):e+="&"+t+"="+r,e},n.sortArrayByKey=function(e,t,r){var n=void 0,o=[];if(e&&e.length){for(var a=0,i=e.length;i>a;a++)n=e[a],n&&(n.objKey=t,o.push(n));o.sort(function(e,r){return e[t]>r[t]?1:-1}),r&&o.reverse()}return o},n.hashCode=function(e){var t,r,n,o=0;if(0===e.length)return o;for(t=0,n=e.length;n>t;t++)r=e.charCodeAt(t),o=(o<<5)-o+r,o|=0;return o},n.getOpenPopupName=function(e,t){var r={"my-dashboard":["dealConfirmationModalPopup","reportingModalPopup","paymentModalPopup","prepaymentModalPopup"],global:["penalizedSellerModalPopup"],enquiries:["accountLockedModalPopup","housingSellerModalPopup"]},n=t.substr(1,t.length).split("&"),o=r.global.concat(r[e]);for(var a in o)if(n.lastIndexOf(o[a])>-1)return o[a].replace("ModalPopup","");return""},n.openPopup=function(e,t){Box.Application.broadcast("popup:open",{id:e+"Modal",options:{config:{data:t||""}}})},n.getDeviceType=function(){var e=this.getParameterByName("deviceType");if(e){if(new RegExp(/android/gi).test(e))return"android";if(new RegExp(/ios/gi).test(e))return"ios"}return""},n.setHistoryOpenPopup=function(e,t,r,o){window.location.hash&&history.pushState({url:t},"temporaryDashboardHistory",t),history.pushState({url:t},"dashboardHistory",t),setTimeout(function(){n.openPopup(e,r),"function"==typeof o&&o()},300)},n.validatePhone=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=new RegExp("^[1-9]{1}[0-9]{9}$");return e=e.trim(),t.test(e)?parseInt(e):!1},n.validateName=function(e){var t=new RegExp("^[a-zA-Z ]*$");return e=e.trim(),t.test(e)?e:!1},n.numberToDecimalPrecision=function(e){var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1];return Number(Math.round(e+"e"+t)+("e-"+t))},n.isAccountLocked=function(){var e=r.getItem("sellerStatus");return["accountLocked"].indexOf(e)>-1?!0:!1},n.isHousingSeller=function(){var e=r.getItem("sellerStatus");return["housingSeller"].indexOf(e)>-1?!0:!1},n.getAreaRoundOff=function(e){return 3>=e%5?5*Math.round(e/5):10*Math.round(e/10)},n.getPriceRoundOff=function(e){return 10>e?e:50>e?10*Math.round(e/10):100*Math.round(e/100)},n.formatPrice=function(e){return e.toLocaleString()},n.getTimestampIndays=function(e){return e/1e3/60/60/24},n}),Box.Application.getService("Utils")}),define("services/apiService",["services/loggerService","services/utils"],function(){var e="ApiService";return Box.Application.addService(e,function(){function e(t){var r=arguments.length<=1||void 0===arguments[1]?"and":arguments[1],n={or:",",and:";"},o={equal:"==",notEqual:"!==",ge:"=ge=",le:"=le=",gt:"=gt=",lt:"=lt="},a="";if(t&&"[object Array]"==toString.call(t))for(var i=0;i<t.length;i++){var l=t[i],u="";r=l.filter?l.filter:r,l.type=l.type?l.type:"equal",l.multiple?u="("+e(l.filters,l.filter)+")":o[l.type]&&(u=l.key+o[l.type]+l.value),a=""===a?u:u+n[r]+a}return a}var t=Box.Application.getService("Logger"),r=Box.Application.getService("Utils"),n=function(e,t){return _.isEmpty(t)?e:e+"?selector="+encodeURIComponent(JSON.stringify(t))},o=function(e,t){return _.isEmpty(t)?e:e+"?selector="+JSON.stringify(t)},a=function(e,t,r){var n={method:"GET",cache:!1,url:e};r||(n.data={format:"json"}),n.headers={"X-Correlation-Id":v()};var o=$.ajax(n),a=o.then(function(e){return e},function(e){!function(e,t){return p(e,t)}(e,t)}).always(function(){});return a.abort=o.abort,a},i=function(e,t,r,n){var o={method:"POST",url:e};t&&(o.data=t),r&&(o.headers=r);var a=$.ajax(o),i=a.then(function(e){return e},function(e){return e}).always(function(){});return i.abort=a.abort,i},l=function(e,t,r){var n={type:"POST",enctype:"multipart/form-data",url:e,cache:!1,contentType:!1,processData:!1};t&&(n.data=t);var o=$.ajax(n),a=o.then(function(e){return e},function(e){return e}).always(function(){});return a.abort=o.abort,a},u=function(e,t,r){var n={"Content-Type":"application/json","X-Correlation-Id":v()},o=i(e,JSON.stringify(t),n,r),a=o.then(function(e){return e},function(e){return $.Deferred().reject(e)});return a.abort=o.abort,a},s=function(e,t,r,n){var o=($.Deferred(),{method:"PUT",url:e});t&&(o.data=t),r&&(o.headers=r);var a=$.ajax(o),i=a.then(function(e){return e},function(e){return e}).always(function(){});return i.abort=a.abort,i},c=function(e,t,r){var n={"Content-Type":"application/json","X-Correlation-Id":v()};return t=JSON.stringify(t),s(e,t,n,r).then(function(e){return e},function(e){return $.Deferred().reject(e)})},d=function(e,t){var r=$.ajax({method:"DELETE",contentType:"application/json",url:e,headers:{"X-Correlation-Id":v()}}),n=r.then(function(e){return e},function(e){return e}).always(function(){});return n.abort=r.abort,n},f=function(e,t,r){t=t||"";var n=$.ajax({method:"PATCH",contentType:"application/json",url:e,data:t,headers:{"X-Correlation-Id":v()}}),o=n.then(function(e){return e},function(e){return e}).always(function(){});return o.abort=n.abort,o},g=function(e,t){var r,n="app/v1/composite?api=";if(e=e.slice(),"object"==typeof e&&e.length){for(var o=0,i=e.length;i>o;o++)e[o]=encodeURIComponent(e[o]);r=e.join("&api=");var l=a(n+r),u=l.then(function(e){if(!e||200!==e.status||!e.data||!e.data.data)return p(e,t);for(var r in e.data.data)if(!e.data.data[r]||"2XX"!==e.data.data[r].statusCode)return p(e,t);return e});return u.abort=l.abort,u}return $.Deferred().reject(void 0)},p=function(e,r){if(!r){var n;n='<span> Some error has occured. Please retry.</span>"',t.error(n)}return $.Deferred().reject(e)},m=function(t){if(t||!_.isEmpty(t)){var r=t.extra&&Object.keys(t.extra),n={};if(t.fields&&"[object Array]"==toString.call(t.fields)?n.fields=t.fields.join(","):t.fields&&(n.fields=t.fields),r)for(var o=0;o<r.length;o++)n[r[o]]=t.extra[r[o]].toString();return n.filters=e(t.filters),n}},v=function(){var e=r.getCookie("JSESSIONID"),t=r.uuidGenerator();return e&&(t=e.substring(0,8)+""+t.substring(8)),t};return{composite:g,createSelector:n,get:a,deleteEntry:d,post:i,postJSON:u,postFile:l,put:s,patch:f,putJSON:c,createCompositeSelector:o,createFiqlSelector:m}}),Box.Application.getService(e)}),define("services/defaultService",["services/utils","services/apiService"],function(){var e="DefaultService";return Box.Application.addService(e,function(e){function t(e){var t=[];return $.each(e,function(e,r){t.push({key:r.id,val:r.label})}),t}function r(){var e=this;return e.countries&&e.countries.length?new Promise(function(t,r){e.countries?t(e.countries):r()}):d.get("/xhr/data/countries").then(function(t){return t&&t.data&&t.data.length?(e.countries=c.parseCountries(t.data),e.countries):void 0},function(){e.countries=[]})}function n(e){var t=this;return t.areaUnitTypes&&t.areaUnitTypes.length?new Promise(function(e,r){t.areaUnitTypes?e(t.areaUnitTypes):r()}):d.get("/xhr/data/getAreaUnitTypes").then(function(r){return r.length?(t.areaUnitTypes="sqft"===e?r.splice(0,3):r,t.areaUnitTypes):void 0},function(e){})}function o(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],r=this;return r.cities&&r.cities.length?new Promise(function(e,t){r.cities?e(r.cities):t()}):d.get("/xhr/data/cities").then(function(n){return n&&n.data&&n.data.length?(r.cities=e?t(n.data):n.data,r.cities):void 0},function(){r.cities=[]})}function a(){return this.userDetails&&!$.isEmptyObject(this.userDetails)?this.userDetails:{}}function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this.userDetails=e,!0}function l(e){return d.get("/xhr/prepayment/city-lead-price?sellerId="+e).then(function(e){return e},function(e){return{}})}function u(e){var t=this;return t.sellerDetails?t.sellerDetails?c.emptyPromise(t.sellerDetails):c.emptyPromise(t.sellerDetailsError,!1):d.get(e).then(function(e){return t.sellerDetails=e,t.sellerDetails},function(e){t.sellerDetailsError=e})}function s(){var e=this;return e.states&&e.states.length?e.states?c.emptyPromise(e.states):c.emptyPromise(e.statesError,!1):d.get("/xhr/reraService/getState").then(function(t){return t&&t.data&&t.data.length?e.states=t.data:e.states=[],e.states},function(t){e.statesError=t})}var c=e.getService("Utils"),d=e.getService("ApiService");return{getCountries:r,setUserDetails:i,getUserDetails:a,getCities:o,getLeadPrice:l,getSellerDetails:u,getStateList:s,getUnitTypes:n}}),Box.Application.getService(e)}),define("services/sellerService",["services/utils","common/sharedConfig","services/apiService","services/loggerService","services/localStorageService","services/defaultService"],function(e,t){return Box.Application.addService("SellerService",function(){function r(e){return e?"sellerScoreDetails_"+e:""}function n(e){if(e&&e.responseText){var t=JSON.parse(e.responseText);return t.error.msg}return"some error occurred, please try after some time"}function o(e){return e||{}}function a(e){var t={};for(var r in e)e.hasOwnProperty(r)&&-1!==J.indexOf(r)&&(t[r]=e[r]||!1);return t}function i(e){var t=_.requestRemoveSuspension;return $.postJSON(t,e)}function l(e){var t=_.requestRemoveAccountLock;return $.postJSON(t,e)}function u(t){return q.sellerDetail?e.emptyPromise(q.sellerDetail):t?z.getSellerDetails(_.sellerDetails+t).then(function(e){return q.sellerDetail=e,o(e)},n):e.emptyPromise({})}function s(e){return $.get(_.getTopSellers+"?"+w(e)).then(o,n)}function c(e){return $.get(_.getCustomerReviews(e)).then(o,n)}function d(e){return $.get(_.getCustomerRatings(e)).then(o,n)}function f(e){var t=r(e),o=t?F.getItem(t):"";return b(o,Date.now(),U,e)?new Promise(function(e){return e(o.data)}):$.get(_.getSellerDataFromShade(e,["sellerCityRank","sellerDetail"])).then(function(r){return F.setItem(t,{data:r.data,error:r.error,timeStamp:Date.now(),sellerId:e}),r.data},n)}function g(e){return e?$.get(_.getBrokerDCPreference+e).then(o,n):!1}function p(e,t){return e?$.postJSON(_.setBrokerDCPreference,{userId:e,isInterestedForPackage:t},null,!0).then(o,n):!1}function m(e){return $.postJSON(_.updateSeller,{allowCallInNight:e||!1})}function v(e,t){return $.putJSON(_.updateHousingPortingStatus,{postListingOnHousing:e||!1,sellerUserId:t})}function h(e){return $.postJSON(_.updateSeller,a(e))}function y(e){return $.postFile(_.uploadDocument,e)}function S(e){var t=r(e);F.deleteItem(t)}function b(e,t,r,n){return e&&e.data&&!e.error&&t-e.timeStamp<=r&&e.sellerId==n}function w(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}function D(e){return $.postJSON(_.updateSellerEmail,e)}function P(e){return $.postJSON(_.verifyOtpChangeNumber,e)}function I(e){return $.post(_.changePhoneNumber+e)}function x(e){return $.postJSON(_.sellerActionTrack,e)}function A(e,t){return e.isPenalized=e.penalizedSellerDetails.relevanceIds.length>0,t&&(e.isPenalized=e.penalizedSellerDetails.relevanceIds.indexOf(j)>-1),e}function O(e,t){var r=this;return e&&!r.sellerRelevanceDataObject?$.get(_.sellerPenelizationData.replace("{sellerId}",e)).then(function(e){return r.sellerRelevanceDataObject=e.data?e.data:e,A(r.sellerRelevanceDataObject,t)},function(e){throw e}):new Promise(function(n,o){e&&A(r.sellerRelevanceDataObject,t)?n(r.sellerRelevanceDataObject):o()})}function C(e){return $.get(_.sellerVirtualNumber.replace("{sellerId}",e))}function E(e){return $.postJSON(_.callingSeller,e)}function T(t){var r,n=!0;return t?$.postJSON(_.sellerDealStatus,{sellerUserId:t,includeSellerBenefits:n}).then(function(e){return n===!1&&(e.sellerBenefits=r.data.sellerDetail.sellerBenefits),e}):e.emptyPromise({})}function M(t){return t?q.sellerRelevanceFactor?e.emptyPromise(q.sellerRelevanceFactor):$.get(_.sellerRelevanceFactor({sellerUserId:t})).then(function(e){return q.sellerRelevanceFactor=e.data.sellerRelevanceFactor,e},o):e.emptyPromise({})}function N(){F.deleteItem("sellerStatus"),F.deleteItem("sellerStatusData")}function R(e){return $.get(_.sellerKycDetails.replace("{sellerUserId}",e.sellerUserId)).then(function(e){return e},n)}function L(e,r){var n=F.getItem("sellerStatus");switch(e){case"sellerSuspension":return u(r).then(function(e){var r=e.data&&e.data[0],o=t.sellerSuspensionMap;return r&&[o.TO_BE_SUSPENDED,o.SUSPENDED,o.RE_ACTIVE].indexOf(r.suspensionStatus)>-1?(F.setItem("sellerStatus","suspended"),{sellerSuspension:!0}):("suspended"==n&&N(),{sellerSuspension:!1})},function(e){return"suspended"==n&&N(),{sellerSuspension:!1}});case"accountLocked":var o=!1;return M(r).then(function(e){return e&&e.data&&e.data.sellerRelevanceFactor&&e.data.sellerRelevanceFactor.data?(e.data.sellerRelevanceFactor.data.forEach(function(e){e.sellerTransGroupId==t.sellerBenefitMap.ACCOUNT_LOCKED&&(F.setItem("sellerStatus","accountLocked"),o=!0)}),o||"accountLocked"!=n||N(),{accountLocked:o}):("accountLocked"==n&&N(),{accountLocked:o})},function(e){return"accountLocked"==n&&N(),{accountLocked:o}});case"housingSeller":var a=!1;return u(r).then(function(e){var t=e.data&&e.data[0];return t&&t.companyUser&&t.companyUser.company&&t.companyUser.company.isHousingSeller?(F.setItem("sellerStatus","housingSeller"),{housingSeller:!0}):("housingSeller"==n&&N(),{housingSeller:!1})},function(e){return"housingSeller"==n&&N(),{housingSeller:a}})}}function k(e){return $.get(_.sellerFeed(e))}function B(){return $.get(_.sellerChildDetails).then(function(e){return e},n)}var U=864e5,j=2,q={},_={sellerDetails:"/xhr/userService/sellerDetails?id=",updateSeller:"xhr/userService/updateSeller",uploadDocument:"xhr/userService/uploadDocument",sellerKycDetails:"xhr/sellerService/getSellerKycDetails?sellerUserId={sellerUserId}",sellerScoreDetails:"/xhr/sellerService/sellerScoreDetails?id=",getBrokerDCPreference:"/xhr/campaign/getBrokerDCPreference?sellerId=",
setBrokerDCPreference:"/xhr/campaign/setBrokerDCPreference",getTopSellers:"/xhr/sellerService/getTopSellers",updateSellerEmail:"xhr/userService/updateSellerEmail",sellerActionTrack:"xhr/sellerService/sellerActionTrack",sellerPenelizationData:"shade/web/v1/user/seller-penalization-status/{sellerId}",verifyOtpChangeNumber:"shade/web/v1/seller/verify-otp-change-number",getSellerDataFromShade:function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return"shade/web/v1/user/seller-dashboard/"+e+"?models="+t.join(",")},changePhoneNumber:"shade/web/v1/seller/check-number/",sellerVirtualNumber:"/xhr/call/sellerVitualNumbers?sellerId={sellerId}",callingSeller:"/xhr/call/callNow",sellerDealStatus:"/xhr/sellerService/sellerDealStatus",requestRemoveSuspension:"xhr/sellerStatus/request-remove-suspension",requestRemoveAccountLock:"xhr/sellerStatus/request-remove-accountLock",updateHousingPortingStatus:"xhr/userService/updateHousingPortingStatus",sellerRelevanceFactor:function(e){var t=e.sellerUserId;return _.getSellerDataFromShade(t,["sellerRelevanceFactor"])},sellerFeed:function(e){return"/xhr/sellerService/sellerFeed?localityIds="+JSON.stringify(e)},getCustomerReviews:function(e){return"/xhr/sellerService/getCustomerReviews?sellerId="+e},getCustomerRatings:function(e){return"/xhr/sellerService/getCustomerRatings?sellerId="+e},sellerChildDetails:"/xhr/sellerService/sellerChildDetails"},$=(Box.Application.getService("Logger"),Box.Application.getService("ApiService")),F=Box.Application.getService("localStorageService"),z=Box.Application.getService("DefaultService"),J=["companyUserName","companyUserEmail","companyUserCompanyName","companyUserCompanyType","billingEntityName","billingAddress","billingAddressCity","gstinNo"];return{getSellerKycDetails:R,fetchSellerDetails:u,fetchBrokerDCPreferece:g,setBrokerDCPreference:p,updateNightCall:m,updateSeller:h,uploadDocument:y,getTopSellers:s,removeSellerDetailKey:S,fetchSellerBasicDetails:f,updateSellerEmail:D,checkSellerPenalisation:O,verifyOtpChangeNumber:P,changePhoneNumber:I,sellerActionTrack:x,getSellerVirtualNumber:C,startSellerCall:E,getSellerDealStatus:T,requestRemoveSuspension:i,requestRemoveAccountLock:l,getSellerStatuses:L,getSellerFeed:k,getCustomerReviews:c,getCustomerRatings:d,getSellerRelevanceFactor:M,getAgentList:B,updateMakaanHousingPorting:v}}),Box.Application.getService("SellerService")}),define("services/commonService",["services/loggerService","services/utils","services/sellerService"],function(e,t,r){var n="CommonService";return Box.Application.addService(n,function(e){function t(){for(var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?document:arguments[1],r=e?"data-lazyModule":"data-module",n=Box.DOM.queryAll(t,"["+r+"]"),o=[],a=void 0,i=void 0,l=0;l<n.length;l++)a=n[l].getAttribute(r),i="modules/"+a+"/scripts/index",i&&e?o.push({loadOn:n[l].getAttribute(A),name:a}):i&&!e&&o.push(i);return o}function r(e,t){var r=arguments.length<=2||void 0===arguments[2]?document:arguments[2],n=[],o=[],a=void 0;if("[object Array]"!==x.call(e)&&l(e.name))n.push("modules/"+e.name+"/scripts/index"),o.push({name:e.name,loadId:e.loadId});else for(var i=0;i<e.length;i++)a=e[i].parent?"modules/"+e[i].parent+"/submodules/"+e[i].name:"modules/"+e[i].name+"/scripts/index",l(e[i].name)&&(o.push({name:e[i].name,loadId:e[i].loadId}),n.push(a));require(n,function(){for(var e="data-lazyModule",n=void 0,a=void 0,i=0;i<o.length;i++){a="event"!=t||o[i].loadId?"event"==t&&o[i].loadId?"["+e+"="+o[i].name+'][data-loadOn="event"][id='+o[i].loadId+"]":"["+e+"="+o[i].name+']:not([data-loadOn="event"])':"["+e+"="+o[i].name+'][data-loadOn="event"]',n=Box.DOM.queryAll(r,a),n=n||[];for(var l=n.length,u=0;l>u;u++)O(n[u]).attr("data-module",o[i].name),C.start(n[u])}})}function n(){for(var e=arguments.length<=0||void 0===arguments[0]?document:arguments[0],n=t(!0,e),o=0;o<n.length;o++)"event"!==n[o].loadOn&&r(n[o],null,e)}function o(e,t){var r=void 0,n=void 0;if(!D[e])return!1;if(t)return!!D[e][t];if(r=Object.keys(D[e]),n=r.length,0===n)return!1;for(var o=0;n>o;o++)if(!D[e][r[o]])return!1;return!0}function a(e,t){D[e]=D[e]?D[e]:{},D[e][t]=!0}function i(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?document:arguments[1],r=[],n=Box.DOM.queryAll(t,"[data-module]");n=e?n.concat(Box.DOM.queryAll(t,"[data-lazyModule]")):n;for(var o=0;n&&o<n.length;o++){var a=n[o].getAttribute("data-module");!a&&e&&(a=n[o].getAttribute("data-lazyModule")),a&&r.push(a)}return r}function l(e){var t=Box.DOM.query(document,"[data-lazyModule='"+e+"']");return!!t}function u(e){e=e&&e.data;var t=e.messageData;if("moduleLoaded"==e.message)o(t.name,t.id)||(a(t.name,t.id),"function"==typeof P[t.name]&&P[t.name](t.id));else if("loadModule"==e.message)if("[object Object]"===x.call(t)&&t.loadAll&&t.el){var i=Box.DOM.query(document,t.el);d(i),t.loadLazy&&n(i)}else r(t,"event");else"loadImages"==e.message&&c(t.selector)}function s(e,t,r){if(P[e]=t,"[object Array]"==x.call(r))for(var n=r.length,a=0;n>a;a++)o(e,r[a])&&t(r[a]);else o(e)&&t()}function c(){var e,t,r=arguments.length<=0||void 0===arguments[0]?document:arguments[0],n="[data-src]",o=Box.DOM.queryAll(r,n);for(t=0;t<o.length;t++)e=o[t].getAttribute("data-src"),o[t].setAttribute("src",e)}function d(e,r,n,o){void 0===e&&(e=document),void 0===r&&(r=[]);var a=t(!1,e);a=a.concat(r),a.length>0&&require(a,function(){n&&"function"==typeof n&&n(),e===document?C.init({debug:!1}):C.startAll(e),o&&"function"==typeof o&&o()})}function f(){var e=arguments.length<=0||void 0===arguments[0]?document:arguments[0],t=i(!0,e);O.each(t,function(e,t){D[t]&&delete D[t],P[t]&&delete P[t]}),C.stopAll(e)}function g(e,t){void 0===e&&(e=document);var r=e.getAttribute("data-module");r&&(D[r]&&(t&&D[r][t]?delete D[r][t]:delete D[r]),P[r]&&(t&&P[r][t]?delete P[r][t]:delete P[r])),C.stop(e)}function p(e,t,r){var n=O(e),o=n.offset().top;o-=t&&o>t?r:0,O("body").animate({scrollTop:o},"slow")}function m(){var e=Box.DOM.query(document,"[data-controller]");e&&e.removeAttribute("data-module")}function v(){var e=Box.DOM.query(document,"[data-controller]"),t=e?e.getAttribute("data-controller"):null,r=t?"scripts/pageModules/"+t:null;return{name:t,path:r,el:e}}function h(e,t){if(e){for(var r=Box.DOM.queryAll(e,"[data-module]"),n=[],o=[],a=0;r&&a<r.length;a++){var i=r[a].getAttribute("data-module"),l=r[a].id;if(i){var u={name:i,id:l};o.push(u);var s="modules/"+i+"/scripts/index";n.push(s)}}require(n,function(){for(var e=0;e<o.length;e++)for(var r="[data-module="+o[e].name+"][id="+o[e].id+"]",n=Box.DOM.queryAll(document,r),a=n.length,i=0;a>i;i++)C.start(n[i]);C.broadcast("newModulesLoaded",{id:t})})}}function y(e,t){if(e)for(var r,n=t?"data-lazyModule":"data-module",o=Box.DOM.queryAll(e,"["+n+"]"),a=0;o&&a<o.length;a++)r=document.getElementById(o[a].id),C.isStarted(r)&&C.stop(document.getElementById(o[a].id))}function S(e,t){if(e){var r={messageData:[{parent:t,name:e,loadId:e}],message:"loadModule"};u({data:r})}}function b(){var e=O.Deferred();return"complete"===document.readyState.toLowerCase()?e.resolve():O(window).load(e.resolve),e.promise()}function w(){var e=arguments.length<=0||void 0===arguments[0]?document:arguments[0];window.isLocal||b().then(function(){return I||(I=O.getScript("//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")),I}).then(function(){for(var t=O(e).find('[data-google-add="true"]:not([data-adsbygoogle-status="done"]):not(.hide)'),r=0;r<t.length;r++)(adsbygoogle=window.adsbygoogle||[]).push({})})}var D={},P={},I=void 0,x={}.toString,A="data-loadOn",O=e.getGlobal("jQuery"),C=Box.Application,E=function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e&&t.test(e.trim())?!0:!1},T=function(e){var e=O.trim(e);return e.length>2&&e.length<50?!0:!1},M=function(e){return e};return{getModulesPath:t,loadLazyModules:n,loadModule:r,checkModuleLoaded:o,setModuleLoaded:a,getAllModules:i,bindOnModuleLoad:s,initializeCallbacks:u,loadLazyImages:c,startAllModules:d,stopAllModules:f,stopModule:g,removePageModule:m,getPageModule:v,gotoEl:p,unloadModules:y,loadNewModules:h,isEmail:E,isValidPhone:M,isValidValue:T,startModule:S,loadGoogleAds:w}}),Box.Application.getService(n)}),define("services/configService",[],function(){var e="ConfigService";return Box.Application.addService(e,function(){var e={hideClass:"hide",selectedClass:"selected",focusClass:"focus",activeClass:"active",openClass:"open",disabledClass:"disabled",recentlyViewedLocalStorage:"recentlyViewed",shortlistedLocalStorage:"fav-prop"},t={},r=function(){window.config=e},n=function(e,r){t[e]=r},o=function(e){return e?t[e]:t};return{loadGlobalConfig:r,setConfigValue:n,getConfigValue:o}}),Box.Application.getService(e)}),define("services/urlService",[],function(){var e="URLService";return Box.Application.addService(e,function(e){function t(e){var t=e.split("?")[0],r="",n=a(e);if(Object.keys(n).length){for(var o=0;o<g.length;o++){var i=g[o];n[i]&&(r+="&"+i+"="+n[i],delete n[i])}for(var i in n)r+="&"+i+"="+n[i];r=r.substring(1),t+="?"+r}return t}function r(e){f=e}function n(r,n){var o=void 0,a=void 0,i=void 0,l=void 0;r&&r!==window.location.href&&(a=window.location.origin,o=window.location.pathname,i=r.split("?")[0],-1==[o,""+a+o].indexOf(i)&&(l=!0),r=t(r),!l&&!n&&window.history&&window.history.pushState?(window.history.pushState({url:r},"state-"+r,r),e.broadcast("searchParamsChanged")):(r="/"!=r[0]?"/"+r:r,$().ajaxify?$().ajaxify(r):window.location.href=r),f=window.location)}function o(e,t){var r=window.location.search;t&&(r="?"+t.split("?")[1]),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),o=n.exec(r);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))}function a(e){var t=e||window.location.search,r=t.indexOf("?");if(-1===r)return{};t=t.substring(r+1),t=t.split("&");for(var n={},o=0;o<t.length;o++){var a=t[o].split("=");n[a[0]]=a[1]}return n}function i(e){var t=e||window.location.search,r=t.indexOf("?");if(-1===r)return"";t=t.substring(r+1),t=t.split("&");for(var n="",o=0;o<t.length;o++){var a=t[o].split("=");n+=","+a[0]}return n.length>0?n.substring(1):n}function l(e,t,r){var n=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return r?e.match(n)?e.replace(n,"$1"+t+"="+r+"$2"):e=e+o+t+"="+r:c(t,e,!0)}function u(e,t,r,o){var a=r||window.location.href,i=l(a,e,t);return o?i:void n(i)}function s(e,t,r){if("object"!=typeof e)return void console.log("object should only be passed");for(var o=Object.keys(e),a=t||window.location.href,i=0;i<o.length;i++)a=l(a,o[i],e[o[i]]);return r?a:void n(a)}function c(e,t,r){var o=t||window.location.href,a=o.indexOf("?"),i=[];if(a>-1&&(i=[o.substring(0,a),o.substring(a+1)]),i.length>=2){for(var l=encodeURIComponent(e)+"=",u=i[1].split(/[&;]/g),s=u.length;s-- >0;)-1!==u[s].lastIndexOf(l,0)&&u.splice(s,1);if(o=i[0],u.length>0&&(o=i[0]+"?"+u.join("&")),r)return o;n(o)}return o}function d(e,t){if(!t)return e;var r=void 0,n=void 0;if("string"==typeof t)r=t;else{r="";for(var o in t)t[o]&&(r=r+"&"+o+"="+t[o]);r=r.slice(1)}return r&&(n=e.indexOf("?")>-1?"&":"?",e+=""+n+r),e}var f=window.location;window.onpopstate=function(){var t=window.location;(t.pathname!=f.pathname||t.search!=f.search)&&e.broadcast("searchParamsChanged",{backButton:!0})};var g=["beds","baths","propertyType","propertyStatus","budget","area","postedBy","ownership","possession","ageOfProperty","newOrResale","furnished","locality","builder","amenities","sortBy"];return{ajaxyUrlChange:n,getUrlParam:o,getAllUrlParam:a,changeUrlParam:u,removeUrlParam:c,changeMultipleUrlParam:s,setPrevLocation:r,getParamList:i,getURLWithSelectors:d}}),Box.Application.getService(e)}),define("services/moduleStartStop",["services/commonService"],function(){var e="moduleStartStop";return Box.Application.addService(e,function(){var e=Box.Application.getService("CommonService"),t=function(t){t&&e.stopModule(document.getElementById(t))},r=function(t,r,n,o){if(t){r||(r=t);var a={messageData:[{parent:o,name:t,loadId:r}],message:"loadModule"};n&&delete a.messageData[0].parent,e.initializeCallbacks({data:a})}};return{start:r,stop:t}}),Box.Application.getService(e)}),define("app",["infra"],function(){require(["services/commonService","services/loggerService","services/configService","services/utils","services/urlService","services/apiService","services/moduleStartStop"],function(){document.cookie="mkn_searchcookie=;domain=.makaan.com;Path=/;expires=Wed, 31 Dec 1969 23:59:59 GMT",document.cookie="mp_d295cc4b1e79b2c907fdce24a56bc8ab_mixpanel=;domain=.makaan.com;Path=/;expires=Wed, 31 Dec 1969 23:59:59 GMT",document.cookie="mp_43e125677066e06b6e36cc132e3741b2_mixpanel=;domain=.makaan.com;Path=/;expires=Wed, 31 Dec 1969 23:59:59 GMT";var e=Box.Application,t=Box.DOM.query(document,"[data-controller]"),r=t?t.getAttribute("data-controller"):null,n=e.getService("CommonService"),o=e.getService("Logger"),a=e.getService("ConfigService"),i=[];a.loadGlobalConfig(),r=r?"controllers/"+r:null,i=n.getModulesPath(),r&&i.push(r),i&&i.length>0&&require(i,function(){e.init({debug:!0}),o.log("Application Started...")}),n.loadLazyModules(),e.on("message",n.initializeCallbacks)})});